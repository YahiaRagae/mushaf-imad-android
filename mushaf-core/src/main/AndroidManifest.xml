<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android">

    <!-- Foreground service permission (Android 9+) -->
    <uses-permission android:name="android.permission.FOREGROUND_SERVICE" />

    <!-- Media playback service type (Android 10+) -->
    <uses-permission android:name="android.permission.FOREGROUND_SERVICE_MEDIA_PLAYBACK" />

    <!-- Post notifications permission (Android 13+) -->
    <uses-permission android:name="android.permission.POST_NOTIFICATIONS" />

    <application>
        <!-- MediaSessionService for background audio playback -->
        <service
            android:name=".data.audio.AudioPlaybackService"
            android:foregroundServiceType="mediaPlayback"
            android:exported="false">
            <intent-filter>
                <action android:name="androidx.media3.session.MediaSessionService" />
            </intent-filter>
        </service>

        <!-- ContentProvider for automatic library initialization -->
        <provider
            android:name=".internal.MushafInitProvider"
            android:authorities="${applicationId}.mushaf-initializer"
            android:exported="false"
            android:multiprocess="true" />
    </application>

</manifest>
